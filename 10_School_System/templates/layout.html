{% load static %}

<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %}School Management System{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/tyle.css' %}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <!-- Global Styles -->
  </head>
  <body>
    <header>
      <div class="app-name">üè´ School System</div>
      <div class="user-info">
        {% if request.user.is_authenticated %} {{ request.user.email }} 
        ({{ request.user.role }}) {% endif %}
      </div>
    </header>

    <div class="container">
      <!-- Sidebar -->
      <nav>
        <ul>
          
          {% if request.user.role == "ADMIN" %}
          <li><a href="{% url 'users:display_students' %}">Dashboard</a></li>
          <li><a href="{% url 'courses:create_class' %}">Create Class</a></li>
          <li><a href="{% url 'users:add_user' %}">Add User</a></li>
          <li><a href="#">Assign Teacher</a></li>
          {% endif %} {% if request.user.role == "TEACHER" %}
          <li><a href="#">My Classes</a></li>
          <li><a href="#">My Students</a></li>
          {% endif %} 
          {% if request.user.role == "STUDENT" %}
          <li><a href="{% url 'users:dashboard_view' %}">Dashboard</a></li>
          <li><a href="{% url 'courses:all_classes' %}">Available Classes</a></li>
          <li><a href="{% url 'courses:student_classes' request.user.username %}">My Enrollments</a></li>
          {% endif %} {% if request.user.is_authenticated %}
          <li>
            <form
              action="{% url 'users:logout_user' %}"
              method="post"
              class="nav-form"
            >
              {% csrf_token %}
              <button type="submit" class="nav-link-btn">Logout</button>
            </form>
          </li>
          {% else %}
          <li><a href="{% url 'users:login_user' %}">Login</a></li>
          {% endif %}
        </ul>
      </nav>

      <!-- Main Content -->
      <main>
        {% block content %}
        <!-- Page specific content goes here -->
        {% endblock %}
      </main>
    </div>

    <footer>¬© {{ year|default:2026 }} School Management System</footer>

    {% block extra_js %}{% endblock %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

  </body>
</html>
